<ion-view title="GGC STaRS: Login" ng-controller="loginCtrl">
    <ion-content class="padding" has-header="true">
        <div class="card card-clean">
            <div class="list">
                <label class="item item-input item-divider">
                    <i class="icon ion-search placeholder-icon"></i>
                    <input type="text" placeholder="Username Search" ng-model="search.value">
                </label>
                <div ng-if="search.value">
                    <div class="item item-checkbox" ng-repeat="item in items | filter:search.value track by $index">
                    <label class="checkbox">
                        <input type="checkbox" ng-model="user.username" ng-true-value="'{{item.name}}'" ng-click="updateSelection(item.name)">
                    </label> 
                    {{item.name}}
                    </div>
                </div>
            </div>
        </div>
        <form name="login" ng-submit="submitForm()" novalidate>
            <div class="card card-clean">
                <div class="list">
                    <label class="item item-input item-floating-label">
                        <span class="input-label">Username</span>
                        <input type="text" ng-model="user.username" placeholder="Username" required>
                    </label>
                    <label class="item item-input item-floating-label">
                        <span class="input-label">Password</span>
                        <input type="text" ng-show="showPasswordIsChecked" ng-model="user.password" ng-pattern="/[\w\d]{3,15}/i" placeholder="Password" required>
                        <input type="password" ng-show="!showPasswordIsChecked" ng-model="user.password" placeholder="Password">
                    </label>
                    <ion-checkbox ng-model="showPasswordIsChecked">Show password</ion-checkbox>
                    <div class="item item-divider">
                        <div class="col text-center">
                            <button type="submit" class="button button-block button-positive" ng-disabled="login.$invalid" ng-click="submit(username)">Submit</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </ion-content>
</ion-view>